(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36c0d822"],{"5d2b":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-container"},[o("xl-table",{ref:"schoolTable",attrs:{index:!0,loading:t.loading,"table-data":t.schoolData,"table-columns":t.columns}}),t._v(" "),o("add-button",{on:{add:t.add}}),t._v(" "),o("el-dialog",{attrs:{width:"40%",title:t.isAdd?"增加学校信息":"更新学校信息","close-on-click-modal":!0,visible:t.editVisible},on:{"update:visible":function(e){t.editVisible=e},close:t.close}},[o("el-form",{ref:"form",attrs:{model:t.schoolForm,"label-width":"80px",rules:t.rules}},[o("el-form-item",{attrs:{label:"学校名称",prop:"name"}},[o("el-input",{attrs:{"suffix-icon":"el-icon-school",maxLength:"30"},model:{value:t.schoolForm.name,callback:function(e){t.$set(t.schoolForm,"name",e)},expression:"schoolForm.name"}})],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer"},[o("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("提交")]),t._v(" "),o("el-button",{on:{click:t.resetForm}},[t._v("重置")])],1)],1)],1)},i=[],a=o("b4e4"),c=o("a417"),s={getSchool:function(t){return Object(c["a"])("/school/list",t)},addSchool:function(t){return Object(c["a"])("/school/add",t)},updateSchool:function(t){return Object(c["a"])("/school/update",t)},deleteSchool:function(t){return Object(c["a"])("/school/delete",t)}},l=o("ed08"),r={name:"School",components:{AddButton:a["a"]},data:function(){var t=this;this.$createElement;return{schoolData:[],columns:[{label:"学校名称",prop:"name",align:"center"},{label:"添加时间",prop:"addTime",align:"center"},{label:"更新时间",prop:"updateTime",align:"center"},{label:"操作",prop:"region",align:"center",render:function(e,o){var n=o.props.row;return e("div",{class:"table-action"},[e("span",{on:{click:function(){return t.update(n)}}},["编辑"]),e("el-divider",{attrs:{direction:"vertical"}}),e("span",{on:{click:function(){return t.delete(n.id)}}},["删除"])])}}],loading:!1,isAdd:!1,editVisible:!1,schoolForm:{name:""},rules:{name:[{required:!0,message:"请输入学校名称",trigger:"blur"},{min:2,max:30,message:"长度在 2 到 30 个字符",trigger:"blur"}]}}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.loading=!0,s.getSchool().then(function(e){t.schoolData=e.list}).finally(function(e){t.loading=!1})},add:function(){this.isAdd=!0,this.editVisible=!0},update:function(t){this.isAdd=!1,this.schoolForm=Object(l["b"])(t),this.editVisible=!0},delete:function(t){var e=this;this.$confirm("此操作将删除该学校信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.deleteSchool(t).then(function(t){e.$message1000("删除成功","success"),e.fetchData()})})},close:function(){this.editVisible=!1,this.schoolForm={name:""}},submitForm:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;s.updateSchool(t.schoolForm).then(function(e){t.$message1000("提交成功","success"),t.close(),t.fetchData()})})},resetForm:function(){this.$refs.form.resetFields()}}},d=r,u=(o("a155"),o("2877")),h=Object(u["a"])(d,n,i,!1,null,"5e05bece",null);e["default"]=h.exports},"65ed":function(t,e,o){"use strict";var n=o("a8da"),i=o.n(n);i.a},"6c96":function(t,e,o){},a155:function(t,e,o){"use strict";var n=o("6c96"),i=o.n(n);i.a},a8da:function(t,e,o){},b4e4:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"add-button",on:{click:t.add}},[o("i",{staticClass:"el-icon-plus"})])},i=[],a={name:"AddButton",methods:{add:function(){this.$emit("add")}}},c=a,s=(o("65ed"),o("2877")),l=Object(s["a"])(c,n,i,!1,null,"f1447e70",null);e["a"]=l.exports}}]);