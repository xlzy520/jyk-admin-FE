(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bb820668"],{"2fbb":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("add-button",{on:{add:e.add}}),e._v(" "),r("div",{staticClass:"header"},[r("el-form",{ref:"searchForm",attrs:{model:e.searchForm,inline:!0,size:"medium"}},[r("el-form-item",{attrs:{label:"名称:",prop:"name"}},[r("el-input",{attrs:{maxLength:"11"},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号:",prop:"phone"}},[r("el-input",{attrs:{maxLength:"11"},model:{value:e.searchForm.phone,callback:function(t){e.$set(e.searchForm,"phone",t)},expression:"searchForm.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"状态:",prop:"status"}},[r("el-select",{model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,"status",t)},expression:"searchForm.status"}},[r("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),r("el-option",{attrs:{label:"订单关闭",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"待支付",value:"2"}}),e._v(" "),r("el-option",{attrs:{label:"待发货",value:"3"}}),e._v(" "),r("el-option",{attrs:{label:"已发货",value:"4"}}),e._v(" "),r("el-option",{attrs:{label:"交易完成",value:"5"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"订单号:",prop:"orderNumber"}},[r("el-input",{attrs:{maxLength:"11"},model:{value:e.searchForm.orderNumber,callback:function(t){e.$set(e.searchForm,"orderNumber",t)},expression:"searchForm.orderNumber"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.fetchData(e.searchForm)}}},[e._v("查询")])],1)],1)],1),e._v(" "),r("xl-table",{ref:"orderTable",attrs:{index:!0,selection:!0,loading:e.loading,"table-data":e.orderData,"table-columns":e.columns},on:{"selection-change":e.handleSelectionChange}}),e._v(" "),r("div",{staticClass:"footer"},[r("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.orderDelete(!1)}}},[e._v("批量删除")])],1),e._v(" "),r("el-dialog",{attrs:{width:"40%",title:e.isAdd?"新增商品":"编辑商品","close-on-click-modal":!0,visible:e.editVisible},on:{"update:visible":function(t){e.editVisible=t},close:e.close}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",rules:e.rules}},[r("el-form-item",{attrs:{label:"名称：",prop:"name"}},[r("el-input",{attrs:{maxLength:"20"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"===typeof t?t.trim():t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"宣传图",prop:"img"}},[r("el-upload",{ref:"upload",attrs:{action:"/file/add","on-remove":e.removeImg,"on-success":e.uploadOk,"on-error":e.onError,"file-list":e.fileList,"auto-upload":!0,"list-type":"picture-card",accept:"['.png','.jpg']"}},[r("i",{staticClass:"el-icon-plus"})])],1),e._v(" "),r("el-form-item",{attrs:{label:"库存：",prop:"stores"}},[r("el-input",{attrs:{maxLength:"10"},model:{value:e.form.stores,callback:function(t){e.$set(e.form,"stores",e._n(t))},expression:"form.stores"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"状态：",prop:"status"}},[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"上架","inactive-text":"下架"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"价格：",prop:"price"}},[r("el-input",{attrs:{maxLength:"10"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1)},o=[],n=r("bd86"),i=r("b4e4"),s=r("a417"),l={getOrder:function(e){return Object(s["a"])("/order/list",e)},updateOrder:function(e){return Object(s["a"])("/order/update",e)},deleteOrder:function(e){return Object(s["a"])("/order/delete",e)},orderDetail:function(e){return Object(s["a"])("/order/detail",e)},fahuo:function(e){return Object(s["a"])("/order/setFaHuo",e)},orderClose:function(e){return Object(s["a"])("/order/close",e)}},c=(r("ed08"),{name:"OrderList",components:{AddButton:i["a"]},data:function(){var e=this;this.$createElement;return{orderData:[],columns:[{label:"用户",prop:"name",align:"left",width:"80"},{label:"数量",prop:"goodsAmount",align:"center",width:"60"},{label:"订单号",prop:"orderNumber",align:"center"},{label:"状态",prop:"statusStr",align:"center"},{label:"金额",prop:"money",align:"center"},{label:"交易/更新时间",align:"center",width:"240",render:function(e,t){var r=t.props.row;return e("div",[e("p",[r.addTime]),e("p",[r.updateTime])])}},{label:"操作",prop:"region",align:"center",render:function(t,r){var a=r.props.row;return t("div",{class:"table-action"},[t("span",{on:{click:function(){return e.detail(a)}}},["详 情"]),t("el-divider",{attrs:{direction:"vertical"}}),t("span",{on:{click:function(){return e.delete(a.id)}}},["删 除"])])}}],loading:!1,isAdd:!1,editVisible:!1,imgUrl:"",form:{name:"",stores:"",status:"",price:"",img:""},searchForm:Object(n["a"])({name:"",phone:"",status:"",orderNumber:""},"status",""),rules:{name:[{required:!0,message:"名称不能为空",trigger:"blur"},{min:4,max:20,message:"长度在 4 到 20 个字符",trigger:"blur"}],stores:[{required:!0,message:"库存不能为空",trigger:"blur"},{type:"number",min:0,message:"不能小于0",trigger:"blur"}],price:[{required:!0,message:"价格不能为空",trigger:"blur"},{type:"number",min:0,message:"不能小于0",trigger:"blur"}]},selected:[]}},created:function(){this.fetchData()},methods:{orderDelete:function(){},handleSelectionChange:function(e){this.selected=e.map(function(e){return e.id})},fetchData:function(e){var t=this;this.loading=!0,l.getOrder(e).then(function(e){t.orderData=e.list}).finally(function(e){t.loading=!1})},detail:function(e){},delete:function(e){var t=this;this.$confirm("此操作将删除该订单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){l.deleteOrder(e).then(function(e){t.$message1000("删除成功","success"),t.fetchData()})})},close:function(){this.form={name:"",stores:"",status:"",price:""}},submitForm:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;l.updateOrder(e.form).then(function(t){e.editVisible=!1,e.$message1000("提交成功","success")})})},resetForm:function(){this.$refs.form.resetFields()}}}),u=c,m=(r("d9a1"),r("2877")),d=Object(m["a"])(u,a,o,!1,null,"28997f91",null);t["default"]=d.exports},"65ed":function(e,t,r){"use strict";var a=r("a8da"),o=r.n(a);o.a},7235:function(e,t,r){},a8da:function(e,t,r){},b4e4:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"add-button",on:{click:e.add}},[r("i",{staticClass:"el-icon-plus"})])},o=[],n={name:"AddButton",methods:{add:function(){this.$emit("add")}}},i=n,s=(r("65ed"),r("2877")),l=Object(s["a"])(i,a,o,!1,null,"f1447e70",null);t["a"]=l.exports},d9a1:function(e,t,r){"use strict";var a=r("7235"),o=r.n(a);o.a}}]);