(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f0a6854"],{"1f48":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base-table"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"baseTable",attrs:{"highlight-current-row":"",data:e.tableData,stripe:e.stripe,"header-row-class-name":"header-row"},on:{"row-click":e.clickRow,select:e.handleSelection,"select-all":e.selectAll,"selection-change":e.handleSelectionChange,"cell-dblclick":e.dblclickRow,"cell-click":e.clickCell,"row-contextmenu":e.showMenu}},[e.selection?n("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e._v(" "),e.index?n("el-table-column",{attrs:{type:"index",width:"55"}}):e._e(),e._v(" "),e._l(e.columns,function(t){return n("el-table-column",e._b({key:t.label,scopedSlots:e._u([{key:"default",fn:function(a){return t.component?[n(t.component,e._b({tag:"component"},"component",e.getComponentBind(a,t),!1))]:void 0}}],null,!0)},"el-table-column",t,!1))})],2),e._v(" "),e.total>e.pageSize?n("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":e.pageNo,"page-size":e.pageSize,"prev-text":"上一页","next-text":"下一页",layout:"prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1)},r=[],l=n("cebc"),i=(n("c5f6"),function(){return{functional:!0,render:function(e,t){var n=t.props,a=n.row,r=n.col,l=t._v,i=r.formatter,o=i&&i(a,r)||a[r.prop]||"";return l&&l(o)||o}}}),o={name:"BaseTable",props:{selection:{type:String,default:""},tableData:{type:Array,default:function(){}},tableColumns:{type:Array,default:function(){}},stripe:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},total:{type:Number,default:0},pageNo:{type:Number,default:1},pageSize:{type:Number,default:15},index:Boolean},data:function(){return{columns:[]}},mounted:function(){this.columns=this.tableColumns.filter(function(e){return!e.hidden}).map(function(e){var t=i();return e.render&&(t.render=e.render),"index"===e.type?Object(l["a"])({},e):Object(l["a"])({},e,{component:t})})},methods:{handleCurrentChange:function(e){this.$emit("change-page",e)},getComponentBind:function(e,t){var n=e.row,a=e.column,r=e.$index;return{row:n,col:t,column:a,$index:r}},clickRow:function(e){this.toggleRowSelection(e)},toggleRowSelection:function(e,t){this.$refs.baseTable.toggleRowSelection(e,t)},showMenu:function(e,t,n){this.$emit("row-contextmenu",e,t,n)},dblclickRow:function(e){this.$emit("cell-dblclick",e)},clickCell:function(e,t,n,a){this.$emit("cellclick",e,t,n,a)},handleSelectionChange:function(e){this.$emit("selection-change",e)},handleSelection:function(e){this.$emit("selectchange",e)},selectAll:function(e){this.$emit("selectAll",e)}}},c=o,s=(n("6883"),n("2877")),u=Object(s["a"])(c,a,r,!1,null,"380d95ff",null);t["a"]=u.exports},3903:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"header"},[n("el-form",{ref:"searchForm",attrs:{model:e.searchForm,inline:!0,size:"medium"}},[n("el-form-item",{attrs:{label:"注册时间:",prop:"registerTime"}},[n("el-date-picker",{attrs:{type:"daterange",align:"center","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchForm.registerTime,callback:function(t){e.$set(e.searchForm,"registerTime",t)},expression:"searchForm.registerTime"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"登录时间:",prop:"lastLoginTime"}},[n("el-date-picker",{attrs:{type:"daterange",align:"center","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchForm.lastLoginTime,callback:function(t){e.$set(e.searchForm,"lastLoginTime",t)},expression:"searchForm.lastLoginTime"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"昵称:",prop:"nickname"}},[n("el-input",{attrs:{"max-length":"11"},model:{value:e.searchForm.nickname,callback:function(t){e.$set(e.searchForm,"nickname",t)},expression:"searchForm.nickname"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.fetchData(e.searchForm)}}},[e._v("查询")]),e._v(" "),n("el-button",{attrs:{type:"info"},on:{click:e.resetForm}},[e._v("清空")])],1)],1)],1),e._v(" "),n("base-table",{ref:"userListTable",attrs:{index:!0,loading:e.loading,"table-data":e.userListData,"table-columns":e.columns}})],1)},r=[],l=n("1f48"),i=n("a417"),o={getUserList:function(e){return Object(i["a"])("/user/list",e)},deleteUser:function(e){return Object(i["a"])("/user/delete",e)}},c={name:"UserList",components:{BaseTable:l["a"]},data:function(){var e=this;this.$createElement;return{searchForm:{nickname:"",registerTime:"",lastLoginTime:""},userListData:[],columns:[{label:"昵称",prop:"nickname",align:"center",width:"120"},{label:"城市",prop:"city",align:"center",width:"80",formatter:function(e){return"Changde"===e.city?"常德":e.city}},{label:"头像",prop:"avatar",align:"center",render:function(e,t){var n=t.props.row;return e("div",{class:"table-img"},[e("el-image",{style:"width: 50px; height: 50px",attrs:{src:n.avatar,fit:"fit"}})])}},{label:"注册时间",prop:"registerTime",align:"center",sortable:!0},{label:"登录时间",prop:"lastLoginTime",align:"center",sortable:!0},{label:"微信唯一ID",prop:"openId",align:"center"},{label:"操作",prop:"region",align:"center",render:function(t,n){var a=n.props.row;return t("div",{class:"table-action"},[t("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(){return e.delete(a.id)}}},["删 除"])])}}],loading:!1}},created:function(){this.fetchData()},methods:{fetchData:function(e){var t=this;this.loading=!0,o.getUserList(e).then(function(e){t.userListData=e.list}).finally(function(e){t.loading=!1})},delete:function(e){var t=this;this.$confirm("此操作将删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){o.deleteUser(e).then(function(e){t.$message1000("删除成功","success"),t.fetchData()})})},resetForm:function(){this.$refs.searchForm.resetFields()}}},s=c,u=(n("a03d"),n("2877")),m=Object(u["a"])(s,a,r,!1,null,"6498d450",null);t["default"]=m.exports},6883:function(e,t,n){"use strict";var a=n("ae02"),r=n.n(a);r.a},a03d:function(e,t,n){"use strict";var a=n("e64c"),r=n.n(a);r.a},ae02:function(e,t,n){},e64c:function(e,t,n){}}]);